function [] = BMI(height,weight)
%A is a matrix with size of n*3, the first column represents the height,
%second column represents the weight, and the third one represents BMI
%value. these values are calculated using the sensors and Motorolla
%microcontriller.
 
%height and weight variables are the height and weight respectively to be interpolated
Q11=0;
Q12=0;
Q21=0;
Q22=0;
 
Q11_index=0;
Q12_index=0;
Q21_index=0;
Q22_index=0;
 
A=[
1.0012 40.08 39.9837;
1.0012 60.119 59.975;
1.0012 80.158 79.9659;
1.0012 100.2 99.9563;
1.0012 120.23 119.9464;
1.0012 140.27 139.9361;
1.0012 160.31 159.9253;
1.0012 180.35 179.9142;
1.0012 200.38 199.9027;
1.1243 40.039 31.6753;
1.1243 60.058 47.5125;
1.1243 80.077 63.3494;
1.1243 100.1 79.186;
1.1243 120.11 95.0222;
1.1243 140.13 110.8582;
1.1243 160.15 126.6938;
1.1243 180.16 142.5291;
1.1243 200.18 158.3641;
1.2022 40.04 27.7036;
1.2022 60.059 41.555;
1.2022 80.078 55.4062;
1.2022 100.1 69.257;
1.2022 120.11 83.1076;
1.2022 140.13 96.9579;
1.2022 160.15 110.8079;
1.2022 180.17 124.6576;
1.2022 200.18 138.5071;
1.3125 40.12 23.2896;
1.3125 60.179 34.934;
1.3125 80.238 46.5782;
1.3125 100.3 58.2222;
1.3125 120.36 69.866;
1.3125 140.41 81.5095;
1.3125 160.47 93.1528;
1.3125 180.53 104.7958;
1.3125 200.58 116.4386;
1.3998 40.448 20.6427;
1.3998 60.672 30.9638;
1.3998 80.895 41.2846;
1.3998 101.12 51.6052;
1.3998 121.34 61.9256;
1.3998 141.56 72.2459;
1.3998 161.78 82.5659;
1.3998 182 92.8857;
1.3998 202.22 103.2052;
1.5012 40.084 17.7865;
1.5012 60.125 26.6795;
1.5012 80.166 35.5724;
1.5012 100.21 44.465;
1.5012 120.25 53.3575;
1.5012 140.29 62.2498;
1.5012 160.33 71.1419;
1.5012 180.36 80.0338;
1.5012 200.4 88.9256;
1.6112 40.048 15.4269;
1.6112 60.071 23.1401;
1.6112 80.094 30.8531;
1.6112 100.12 38.5661;
1.6112 120.14 46.2788;
1.6112 140.16 53.9914;
1.6112 160.18 61.7038;
1.6112 180.2 69.4161;
1.6112 200.22 77.1282; 
1.7001 40.091 13.8708;
1.7001 60.137 20.806;
1.7001 80.181 27.7411;
1.7001 100.23 34.676;
1.7001 120.27 41.6108;
1.7001 140.31 48.5455;
1.7001 160.36 55.48;
1.7001 180.4 62.4143;
1.7001 200.44 69.3486;
1.8122 40.084 12.2055;
1.8122 60.125 18.3081;
1.8122 80.166 24.4106;
1.8122 100.21 30.5129;
1.8122 120.25 36.6151;
1.8122 140.29 42.7172;
1.8122 160.33 48.8192;
1.8122 180.36 54.921;
1.8122 200.4 61.0227;
1.8991 40.004 11.0918;
1.8991 60.005 16.6376;
1.8991 80.006 22.1832;
1.8991 100.01 27.7288;
1.8991 120.01 33.2742;
1.8991 140.01 38.8195;
1.8991 160 44.3647;
1.8991 180 49.9098;
1.8991 200 55.4547;
2.001 40.043 10.0008;
2.001 60.064 15.0011;
2.001 80.085 20.0012;
2.001 100.11 25.0013;
2.001 120.12 30.0012;
2.001 140.14 35.0011;
2.001 160.16 40.0008;
2.001 180.18 45.0005;
2.001 200.2 50;
2.1 40.052 9.082;
2.1 60.077 13.6229;
2.1 80.102 18.1637;
2.1 100.13 22.7043;
2.1 120.15 27.2449;
2.1 140.17 31.7854;
2.1 160.2 36.3259;
2.1 180.22 40.8662;
2.1 200.24 45.4064;
2.207 40.012 8.2145;
2.207 60.017 12.3216;
2.207 80.022 16.4287;
2.207 100.03 20.5356;
2.207 120.03 24.6425;
2.207 140.03 28.7493;
2.207 160.04 32.856;
2.207 180.04 36.9627;
2.207 200.04 41.0692;
2.303 40.457 7.6279;
2.303 60.685 11.4417;
2.303 80.912 15.2554;
2.303 101.14 19.0691;
2.303 121.37 22.8827;
2.303 141.59 26.6962;
2.303 161.82 30.5096;
2.303 182.04 34.323;
2.303 202.27 38.1363;
2.399 40.452 7.0288;
2.399 60.678 10.5431;
2.399 80.903 14.0574;
2.399 101.13 17.5715;
2.399 121.35 21.0856;
2.399 141.58 24.5996;
2.399 161.8 28.1136;
2.399 182.02 31.6274;
2.399 202.24 35.1412;
2.5002 40.449 6.4707;
2.5002 60.672 9.706;
2.5002 80.896 12.9412;
2.5002 101.12 16.1764;
2.5002 121.34 19.4114;
2.5002 141.56 22.6464;
2.5002 161.78 25.8814;
2.5002 182.01 29.1163;
2.5002 202.23 32.3511];
    
%first we need to locate the values of weight and height between two values
%by traversing matrix A
 
for i=1:1:144
 
    if A(i,1)>=height
        height_upper_index=i;
        break;
    end
end
height_lower_index=height_upper_index-9;
upperbound=height_upper_index-1;
 
for j=height_upper_index:1:(height_upper_index+8)
    if A(j,2)>=weight
        Q22_index=j;
        Q21_index=j-1;
        break;
    end
end
Q22=A(Q22_index,3);
Q21=A(Q21_index,3);
H2=A(Q22_index,1);
W2=A(Q22_index,2);
W2=round(W2);
W1=A(Q21_index,2);        
W1=round(W1);
 
for k=height_lower_index:1:upperbound
    
    test=round(A(k,2));
    if test==W1
        Q11_index=k;
    end
    if test==W2
        Q12_index=k;
    end
end
Q11=A(Q11_index,3);
Q12=A(Q12_index,3);
H1=A(Q11_index,1);
p= ((H2-height)*(W2-weight)*Q11+(height-H1)*(W2-weight)*Q21+(H2-height)*(weight-W1)*Q12+(height-H1)*(weight-W1)*Q22)/((H2-H1)*(W2-W1));
 
if p<=18.5
str=[num2str(p), '------->', 'Underweight'];
end
if 18.5<p && p<=25
   str=[num2str(p), '------->', 'Normal'];
end
if 25<p && p<=30
    str=[num2str(p), '------->', 'OverWeight'];
end
 if 30<p && p<=35
str=[num2str(p), '------->', 'Obese1'];
 end
if 35<p && p<=40    
str=[num2str(p), '------->', 'Obese2'];
end 
if p>40
str=[num2str(p), '------->', 'Extremely Obese'];
end
disp(str)
end
